---
source: Rmd
title: R y RStudio
teaching: 30
exercises: 0
---

```{r, include=FALSE}
```

::::::::::::::::::::::::::::::::::::::: objectives

- Describa el propósito de los paneles RStudio Script, Consola, Entorno y Gráficos.
- Organice archivos y directorios para un conjunto de análisis como un proyecto de R y comprenda el propósito del directorio de trabajo.
- Utilice la interfaz de ayuda integrada de RStudio para buscar más información sobre las funciones de R.
- Demuestre cómo proporcionar suficiente información para la resolución de problemas con la comunidad de usuarios de R.

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: questions

- ¿Qué son R y RStudio?

::::::::::::::::::::::::::::::::::::::::::::::::::

> Este episodio se basa en la lección _Análisis de datos y
> Visualización en R para ecologistas_ de Data Carpentries.

## ¿Qué es R? ¿Qué es RStudio?

El término [R](https://www.r-project.org/) se utiliza para referirse al
_lenguaje de programación_, el _entorno para la computación estadística_
y _el software_ que interpreta los scripts escritos con él.

[RStudio](https://rstudio.com) es actualmente una forma muy popular de
no sólo escribir tus scripts R sino también de interactuar con el software R
[^plainr]. Para funcionar correctamente, RStudio necesita R y
, por lo que ambos deben estar instalados en su computadora.

[^plainr]: A diferencia de usar R directamente desde la línea de comando
    consola. Existe otro software que interactúa e integra
    con R, pero RStudio es particularmente adecuado para principiantes
    y al mismo tiempo proporciona numerosas funciones muy avanzadas.

La Hoja de trucos de RStudio IDE

proporciona mucha más información de la que se cubrirá aquí. pero puede ser
útil para aprender atajos de teclado y descubrir nuevas funciones.

## ¿Por qué aprender R?

### R no implica mucho apuntar y hacer clic, y eso es bueno

The learning curve might be steeper than with other software, but with
R, the results of your analysis do not rely on remembering a
succession of pointing and clicking, but instead on a series of
written commands, and that's a good thing! Por lo tanto, si desea rehacer
su análisis porque recopiló más datos, no tiene que
recordar en qué botón hizo clic y en qué orden para obtener sus
resultados; solo tienes que ejecutar tu script nuevamente.

Trabajar con scripts aclara los pasos que utilizó en su análisis,
y el código que escribe puede ser inspeccionado por otra persona que puede brindarle
comentarios y detectar errores.

Trabajar con scripts te obliga a tener una comprensión más profunda de lo
que estás haciendo y facilita tu aprendizaje y comprensión de los
métodos que utilizas.

### El código R es excelente para la reproducibilidad

Reproducibilidad significa que otra persona (incluido su yo futuro) puede
obtener los mismos resultados del mismo conjunto de datos cuando usa el mismo código de análisis
.

R se integra con otras herramientas para generar manuscritos o informes a partir de su código
. Si recopila más datos o corrige un error en su conjunto de datos, las
cifras y las pruebas estadísticas de su manuscrito o informe se actualizan
automáticamente.

Un número cada vez mayor de revistas y agencias de financiación esperan que los análisis
sean reproducibles, por lo que conocer R le dará una ventaja con estos requisitos de
.

### R es interdisciplinario y extensible.

Con más de 10000 paquetes[^whatarepkgs] que se pueden instalar para ampliar sus
capacidades, R proporciona un marco que le permite combinar
enfoques estadísticos de muchas disciplinas científicas para adaptarse mejor a
el marco analítico que necesita para analizar sus datos. Por ejemplo,
R tiene paquetes para análisis de imágenes, SIG, series temporales, genética de poblaciones
y mucho más.

[^whatarepkgs]: es decir, complementos que confieren a R nuevas funciones,
    , como el análisis de datos bioinformáticos.

```{r, fig.cap="Exponential increase of the number of packages available on [CRAN](https://cran.r-project.org/), the Comprehensive R Archive Network. From the R Journal, Volume 10/2, December 2018.", echo=FALSE, message=FALSE}
knitr::include_graphics("fig/cran.png")
```

### R trabaja con datos de todas las formas y tamaños

Las habilidades que aprende con R se escalan fácilmente con el tamaño de su conjunto de datos
. Ya sea que su conjunto de datos tenga cientos o millones de líneas,
no hará mucha diferencia para usted.

R está diseñado para el análisis de datos. Viene con estructuras de datos especiales
y tipos de datos que hacen conveniente el manejo de datos faltantes y factores estadísticos
.

R puede conectarse a hojas de cálculo, bases de datos y muchos otros formatos de datos,
en su computadora o en la web.

### R produce gráficos de alta calidad

Las funcionalidades de trazado en R son extensas y le permiten ajustar
cualquier aspecto de su gráfico para transmitir de manera más efectiva el mensaje de
sus datos.

### R tiene una comunidad grande y acogedora

Miles de personas utilizan R a diario. Muchos de ellos están dispuestos a ayudarte
a través de listas de correo y sitios web como Stack
Overflow, o en RStudio
comunidad. Estas amplias comunidades de usuarios
se extienden a áreas especializadas como la bioinformática. Uno de esos subconjuntos de la comunidad R es [Bioconductor](https://bioconductor.org/), un proyecto científico para el análisis y la comprensión "de datos de ensayos biológicos actuales y emergentes". Este taller fue desarrollado por miembros de la comunidad Bioconductor; Para obtener más información sobre Bioconductor, consulte el taller complementario ["The Bioconductor Project"](https://carpentries-incubator.github.io/bioc-project/).

### R no sólo es gratuito, sino que también es de código abierto y multiplataforma

Cualquiera puede inspeccionar el código fuente para ver cómo funciona R. Debido a esta
transparencia, hay menos posibilidades de cometer errores, y si usted (o
otra persona) encuentra algunos, puede informar y corregir errores.

## Conociendo RStudio

Comencemos aprendiendo sobre [RStudio](https://www.rstudio.com/),
, que es un entorno de desarrollo integrado (IDE) para trabajar con
R.

El producto de código abierto RStudio IDE es gratuito bajo la [Licencia pública Affero General
(AGPL) v3] (https://www.gnu.org/licenses/agpl-3.0.en.html).
El IDE de RStudio también está disponible con una licencia comercial y
soporte prioritario por correo electrónico de Posit, Inc.

Usaremos el IDE de RStudio para escribir código, navegar por los archivos en nuestra
computadora, inspeccionar las variables que vamos a crear y visualizar
los gráficos que generaremos. RStudio también se puede utilizar para otras cosas
(por ejemplo, control de versiones, desarrollo de paquetes, escritura de aplicaciones Shiny) que
no cubriremos durante el taller.

```{r, results="markup", fig.cap="RStudio interface screenshot. Clockwise from top left: Source, Environment/History, Files/Plots/Packages/Help/Viewer, Console.", echo=FALSE, purl=FALSE, out.width="100%", fig.align="center"}
knitr::include_graphics("fig/rstudio-screenshot.png")
```

La ventana de RStudio está dividida en 4 "Paneles":

- la **Fuente** de tus guiones y documentos (arriba a la izquierda, en el diseño predeterminado
  )
- su **Entorno/Historia** (arriba a la derecha),
- sus **Archivos/Tramas/Paquetes/Ayuda/Visor** (abajo a la derecha), y
- la **Consola** R (abajo a la izquierda).

La ubicación de estos paneles y su contenido se pueden personalizar (consulte el menú
, `Herramientas -> Opciones globales -> Diseño del panel`).

Una de las ventajas de usar RStudio es que toda la información que
necesitas para escribir código está disponible en una sola ventana. Además, con
muchos atajos, **autocompletado** y **resaltado** para los principales tipos de archivos
que utiliza mientras desarrolla en R, RStudio hará que escribir
sea más fácil. y menos propenso a errores.

## Preparándose

Es una buena práctica mantener un conjunto de datos, análisis y texto relacionados
independientes en una sola carpeta, llamada \*\*directorio de trabajo
\*\*. Todos los scripts dentro de esta carpeta pueden usar
**rutas relativas** a archivos que indican dónde dentro del proyecto se encuentra un archivo
(a diferencia de rutas absolutas, que apuntan a donde se encuentra un archivo
).
archivo está en una computadora específica). Trabajar de esta manera hace que sea mucho
más fácil mover su proyecto en su computadora y compartirlo con
otras personas sin preocuparse de si los scripts subyacentes
seguirán funcionando o no.

RStudio proporciona un útil conjunto de herramientas para hacer esto a través de su interfaz "Proyectos"
, que no solo crea un directorio de trabajo para usted, sino que también recuerda
su ubicación (lo que le permite navegar rápidamente hasta él). ) y, opcionalmente, conserva
configuraciones personalizadas y archivos abiertos para que sea más fácil reanudar el trabajo después de un descanso de
. Siga los pasos para crear un "Proyecto R" para este
tutorial a continuación.

1. Inicie RStudio.
2. En el menú "Archivo", haga clic en "Nuevo proyecto". Elija `Nuevo directorio`, luego
   `Nuevo proyecto`.
3. Ingrese un nombre para esta nueva carpeta (o "directorio") y elija una
   ubicación conveniente para ella. Este será su **directorio de trabajo**
   para esta sesión (o el curso completo) (por ejemplo, `bioc-intro`).
4. Haga clic en `Crear proyecto`.
5. (Opcional) Establezca las Preferencias en "Nunca" guardar el espacio de trabajo en RStudio.

Las preferencias predeterminadas de RStudio generalmente funcionan bien, pero guardar un espacio de trabajo en
.RData puede ser engorroso, especialmente si trabaja con conjuntos de datos más grandes.
Para desactivarlo, vaya a Herramientas --> 'Opciones globales' y seleccione la opción 'Nunca'
para 'Guardar espacio de trabajo en .RData' al salir.

```{r, results="markup", fig.cap="Set 'Save workspace to .RData on exit' to 'Never'", echo=FALSE, purl=FALSE, out.width="70%", fig.align="center"}
knitr::include_graphics("fig/rstudio-preferences.png")
```

Para evitar problemas de codificación de caracteres entre Windows y otros sistemas operativos
, vamos
a configure UTF-8 de forma predeterminada:

```{r, results="markup", fig.cap="Set the default text encoding to UTF-8 to save us headache in the coming future. (Figure from the link above).", echo=FALSE, purl=FALSE, out.width="70%", fig.align="center"}
knitr::include_graphics("fig/utf8.png")
```

### Organizando su directorio de trabajo

Usar una estructura de carpetas coherente en todos tus proyectos te ayudará a mantener las cosas
organizadas y también facilitará la búsqueda y el archivo de cosas en el futuro. Este
puede resultar especialmente útil cuando tienes varios proyectos. En general, puedes
crear directorios (carpetas) para **scripts**, **datos** y **documentos**.

- **`data/`** Utilice esta carpeta para almacenar sus datos sin procesar y conjuntos de datos
  intermedios que pueda crear para la necesidad de un análisis particular. Por
  en aras de la transparencia y
  [procedencia](https://en.wikipedia.org/wiki/Provenance), debes
  _siempre_ guardar una copia de tu datos sin procesar accesibles y haga la mayor cantidad de
  limpieza y preprocesamiento de sus datos mediante programación (es decir, con
  scripts, en lugar de manualmente) como sea posible. También es una buena idea separar los datos sin procesar
  de los datos procesados. Por ejemplo, podría
  tener los archivos `data/raw/tree_survey.plot1.txt` y `...plot2.txt` mantenidos
  separados de `data/processed/tree.survey. csv` generado por
  el script `scripts/01.preprocess.tree_survey.R`.
- **`documents/`** Este sería un lugar para guardar esquemas, borradores,
  y otro texto.
- **`scripts/`** (o `src`) Esta sería la ubicación para guardar tus scripts R
  para diferentes análisis o trazados, y potencialmente una carpeta
  separada para tus funciones (más sobre eso más adelante).

Es posible que desee directorios o subdirectorios adicionales dependiendo de
las necesidades de su proyecto, pero estos deberían formar la columna vertebral de su directorio de trabajo
.

```{r, results="markup", fig.cap="Example of a working directory structure.", echo=FALSE, purl=FALSE, out.width="100%", fig.align="center"}
knitr::include_graphics("fig/working-directory-structure.png")
```

Para este curso, necesitaremos una carpeta `data/` para almacenar nuestros datos sin procesar,
y usaremos `data_output/` cuando aprendamos a exportar datos como
archivos CSV, y Carpeta `fig_output/` para las figuras que guardaremos.

:::::::::::::::::::::::::::::::::::::::  challenge

## Desafío: crea la estructura de directorios de tu proyecto

En la pestaña `Archivos` a la derecha de la pantalla, haga clic en `Nueva carpeta` y
cree una carpeta llamada `data` dentro de su directorio de trabajo recién creado
(por ejemplo, `~/bioc -introducción/datos`). (Como alternativa, escriba `dir.create("data")` en
su consola R). Repita estas operaciones para crear una carpeta `data_output/` y
`fig_output`.

::::::::::::::::::::::::::::::::::::::::::::::::::

Mantendremos el script en la raíz de nuestro directorio de trabajo
porque solo usaremos un archivo y facilitará las cosas
.

Su directorio de trabajo ahora debería verse así:

```{r, results="markup", fig.cap="How it should look like at the beginning of this lesson", echo=FALSE, purl=FALSE, out.width="100%", fig.align="center"}
knitr::include_graphics("fig/r-starting-how-it-should-look-like.png")
```

**La gestión de proyectos** también es aplicable a proyectos de bioinformática,
por supuesto[^bioindatascience]. William Noble (@Noble:2009) propone la
siguiente estructura de directorios:

[^bioindatascience]: En este curso, consideramos la bioinformática como
    ciencia de datos aplicada a datos biológicos o biomédicos.

> Los nombres de los directorios están en tipo de letra grande y los nombres de archivos están en tipo de letra
> más pequeño. Aquí solo se muestra un subconjunto de los archivos. Tenga en cuenta que las fechas
> tienen el formato `<year>-<month>-<day>` para que puedan ordenarse
> en orden cronológico. El código fuente `src/ms-analysis.c`
> se compila para crear `bin/ms-analysis` y está documentado en
> `doc/ms-analysis.html`. Los archivos `README` en los directorios de datos
> especifican quién descargó los archivos de datos de qué URL en qué fecha
> . El script del controlador `results/2009-01-15/runall` genera automáticamente
> los tres subdirectorios split1, split2 y split3,
> correspondientes a tres divisiones de validación cruzada. El script
> `bin/parse-sqt.py` es llamado por ambos scripts del controlador `runall`
> .

```{r bioinfoproj, fig.cap="Directory structure for a sample bioinformatics project.", out.width="100%", echo=FALSE}
knitr::include_graphics("fig/noble-bioinfo-project.png")
```

El aspecto más importante de un directorio de proyecto
bien definido y bien documentado es permitir que alguien que no esté familiarizado con el proyecto
[^futureself] pueda

1. comprender de qué se trata el proyecto, qué datos están disponibles, qué
   análisis se realizaron y qué resultados se produjeron y, lo más importante

2. repita el análisis nuevamente, con nuevos datos o cambiando algunos
   parámetros de análisis.

[^futureself]: Ese alguien podría ser, y muy probablemente será tu
    yo futuro, un par de meses o años después de que se realizaron
    los análisis.

### El directorio de trabajo

El directorio de trabajo es un concepto importante que hay que comprender. Es el
lugar desde donde R buscará y guardará los archivos. Cuando
escribe código para su proyecto, debe hacer referencia a archivos en relación con
la raíz de su directorio de trabajo y solo necesita archivos dentro de esta estructura
.

El uso de proyectos de RStudio hace que esto sea fácil y garantiza que su directorio de trabajo
esté configurado correctamente. Si necesita verificarlo, puede usar
`getwd()`. If for some reason your working directory is not what it
should be, you can change it in the RStudio interface by navigating in
the file browser where your working directory should be, and clicking
on the blue gear icon `More`, and select `Set As Working Directory`.
Alternativamente, puede usar `setwd("/path/to/working/directory")` para
restablecer su directorio de trabajo. Sin embargo, sus scripts no deben incluir
esta línea porque fallará en la computadora de otra persona.

**Ejemplo**

El siguiente esquema representa el directorio de trabajo `bioc-intro` con los subdirectorios
`data` y `fig_output`, y 2 archivos en este último:

```
bioc-intro/data/
          /fig_output/fig1.pdf
          /fig_output/fig2.png
```

Si estuviéramos en el directorio de trabajo, podríamos referirnos al archivo `fig1.pdf`
usando la ruta relativa `bioc-intro/fig_output/fig1.pdf` o la ruta absoluta
`/ inicio/usuario/bioc-intro/fig_output/fig1.pdf`.

Si estuviéramos en el directorio `data`, usaríamos la ruta relativa
`../fig_output/fig1.pdf` o la misma ruta absoluta
`/home/user/bioc-intro /fig_output/fig1.pdf`.

## Interactuando con R

La base de la programación es que escribimos instrucciones para que las siga la computadora
, y luego le decimos a la computadora que siga esas instrucciones
. Escribimos, o _codificamos_, instrucciones en R porque es un
lenguaje común que tanto la computadora como nosotros podemos entender. Llamamos
a las instrucciones _comandos_ y le decimos a la computadora que siga las instrucciones
_ejecutando_ (también llamado _ejecutando_) esos comandos.

Hay dos formas principales de interactuar con R: usando la
**consola** o usando **scripts** (archivos de texto sin formato que contienen
su código). El panel de la consola (en RStudio, el panel inferior izquierdo) es
el lugar donde los comandos escritos en lenguaje R se pueden escribir y
ejecutar inmediatamente en la computadora. También es donde se mostrarán los resultados
de los comandos que se han ejecutado. Puede escribir
comandos directamente en la consola y presionar `Enter` para ejecutar esos comandos
, pero se olvidarán cuando cierre la sesión.

Como queremos que nuestro código y flujo de trabajo sean reproducibles, es mejor
escribir los comandos que queremos en el editor de scripts y guardar el script
. De esta manera, hay un registro completo de lo que hicimos, y
cualquiera (¡incluido nuestro yo futuro!) pueden replicar fácilmente los
resultados en su computadora. Sin embargo, tenga en cuenta que simplemente escribir los comandos
en el script no los _ejecuta_ automáticamente; aún deben enviarse
a la consola para su ejecución.

RStudio le permite ejecutar comandos directamente desde el editor de scripts
usando el acceso directo `Ctrl` + `Enter` (en Mac, `Cmd` + `Return` también funcionará
). El comando en la línea actual en el script (indicado
por el cursor) o todos los comandos en el texto actualmente seleccionado
se enviarán a la consola y se ejecutarán cuando presione `Ctrl` +
`Entrar`. Puede encontrar otros atajos de teclado en esta [RStudio
hoja de referencia sobre RStudio
IDE] (https://raw.githubusercontent.com/rstudio/cheatsheets/main/rstudio-ide.pdf).

En algún momento de su análisis, es posible que desee verificar el contenido de una variable
o la estructura de un objeto, sin necesariamente mantener un registro
del mismo en su secuencia de comandos. Puede escribir estos comandos y ejecutarlos
directamente en la consola.  RStudio proporciona los atajos `Ctrl` + `1` y
`Ctrl` + `2` que le permiten saltar entre el script y los paneles de la consola
.

Si R está listo para aceptar comandos, la consola de R muestra un mensaje `>`. If
it receives a command (by typing, copy-pasting or sending from the script
editor using `Ctrl` + `Enter`), R will try to execute it, and when
ready, will show the results and come back with a new `>` prompt to
wait for new commands.

Si R todavía está esperando que ingrese más datos porque aún no está
completo, la consola mostrará un mensaje `+`. Significa que
no has terminado de ingresar un comando completo. This is because you have
not 'closed' a parenthesis or quotation, i.e. you don't have the same
number of left-parentheses as right-parentheses, or the same number of
opening and closing quotation marks.  Cuando esto suceda, y usted
pensó que había terminado de escribir su comando, haga clic dentro de la ventana de la consola
y presione `Esc`; esto cancelará el comando incompleto y
lo devolverá al mensaje `>`.

## ¿Cómo aprender más durante y después del curso?

El material que cubrimos durante este curso le dará una
muestra inicial de cómo puede usar R para analizar datos para su propia
investigación. Sin embargo, necesitarás aprender más para realizar
operaciones avanzadas, como limpiar tu conjunto de datos, usar métodos estadísticos,
o crear hermosos gráficos[^inthiscoure]. La mejor manera de volverse
competente y eficiente en R, como con cualquier otra herramienta, es utilizarlo para
abordar sus preguntas de investigación reales. Como principiante, puede resultar
desalentador tener que escribir un script desde cero y, dado que muchas
personas ponen su código a disposición en línea, modifican el código existente para
que se adapte a su propósito. podría facilitarle el comienzo.

[^inthiscoure]: Introduciremos la mayoría de estos (excepto las estadísticas)
    aquí, pero solo lograremos arañar la superficie de la riqueza de
    lo que es posible hacer con R.

```{r kitten, results="markup", echo=FALSE, purl=FALSE, out.width="400px", fig.align="center"}
knitr::include_graphics("fig/kitten-try-things.jpg")
```

## Buscando ayuda

### Utilice la interfaz de ayuda integrada de RStudio para buscar más información sobre las funciones de R

```{r rstudiohelp, fig.cap="RStudio help interface.", results="markup", echo=FALSE, purl=FALSE, out.width="70%", fig.align="center"}
knitr::include_graphics("fig/rstudiohelp.png")
```

Una de las formas más rápidas de obtener ayuda es utilizar la interfaz de ayuda
de RStudio. Este panel por defecto se puede encontrar en el panel inferior derecho
de RStudio. Como se ve en la captura de pantalla, al escribir la palabra
"Mean", RStudio intenta dar también una serie de sugerencias que podrían interesarle a
. La descripción se muestra luego en la ventana de visualización
.

### Sé el nombre de la función que quiero usar, pero no estoy seguro de cómo usarla

Si necesita ayuda con una función específica, digamos `barplot()`,
puede escribir:

```{r, eval=FALSE, purl=TRUE}
?barplot
```

Si sólo necesita recordar los nombres de los argumentos, puede utilizar:

```{r, eval=FALSE, purl=TRUE}
args(lm)
```

### Quiero usar una función que haga X, debe haber una función para ello pero no sé cuál...

Si está buscando una función para realizar una tarea en particular, puede usar la función
`help.search()`, que se llama mediante el doble signo de interrogación `??`.
Sin embargo, esto solo busca en los paquetes instalados páginas de ayuda que coincidan
con su solicitud de búsqueda.

```{r, eval=FALSE, purl=TRUE}
??kruskal
```

Si no puede encontrar lo que busca, puede utilizar
el sitio web [rdocumentation.org](https://www.rdocumentation.org) que busca
a través de los archivos de ayuda en todos los paquetes disponibles.

Finalmente, una búsqueda genérica en Google o en Internet "R \<task>" a menudo lo enviará
a la documentación del paquete correspondiente o a un foro útil donde alguien
más ya haya hecho su pregunta.

### Estoy atascado... Me sale un mensaje de error que no entiendo

Comience buscando en Google el mensaje de error. Sin embargo, esto no siempre funciona muy bien
porque a menudo, los desarrolladores de paquetes confían en la detección de errores proporcionada por R. Usted
termina con mensajes de error generales que pueden no ser muy útiles para diagnosticar un
problema (por ejemplo, "subíndice fuera de límites"). Si el mensaje es muy genérico,
también podrías incluir el nombre de la función o paquete que estás usando en tu consulta
.

Sin embargo, deberías comprobar Stack Overflow. Busque usando la etiqueta `[r]`. La mayoría de las
preguntas ya han sido respondidas, pero el desafío es usar las
palabras correctas en la búsqueda para encontrar las
respuestas:

[http://stackoverflow.com/questions/tagged/r](https://stackoverflow.com/questions/tagged/r)

The [Introduction to R](https://cran.r-project.org/doc/manuals/R-intro.pdf) can
also be dense for people with little programming experience but it is a good
place to understand the underpinnings of the R language.

Las [Preguntas frecuentes de R](https://cran.r-project.org/doc/FAQ/R-FAQ.html) son densas y técnicas
pero están llenas de información útil.

### Pidiendo ayuda

La clave para recibir ayuda de alguien es que comprenda rápidamente
tu problema. Deberías hacer que sea lo más fácil posible identificar dónde
podría estar el problema.

Intente utilizar las palabras correctas para describir su problema. Por ejemplo, un paquete
no es lo mismo que una biblioteca. La mayoría de las personas
entenderán lo que quisiste decir, pero otros tienen sentimientos muy fuertes
sobre la diferencia de significado. El punto clave es que puede hacer que
las cosas sean confusas para las personas que intentan ayudarte. Sea lo más preciso
posible al describir su problema.

Si es posible, intente reducir lo que no funciona a un simple ejemplo \*reproducible
\*. Si puede reproducir el problema usando un marco de datos muy pequeño
en lugar del de 50000 filas y 10000 columnas, proporcione el
pequeño con la descripción de su problema. Cuando sea apropiado, intente
para generalizar lo que está haciendo, de modo que incluso las personas que no están en su campo
puedan entender la pregunta. Por ejemplo, en lugar de utilizar un subconjunto
de su conjunto de datos real, cree uno pequeño (3 columnas, 5 filas)
genérico. Para obtener más información sobre cómo escribir un ejemplo
reproducible, consulte este artículo de Hadley
Wickham.

Para compartir un objeto con otra persona, si es relativamente pequeño,
puedes usar la función `dput()`. Generará código R que se puede usar
para recrear exactamente el mismo objeto que el que está en la memoria:

```{r, results="show", purl=TRUE}
## iris is an example data frame that comes with R and head() is a
## function that returns the first part of the data frame
dput(head(iris))
```

If the object is larger, provide either the raw file (i.e., your CSV
file) with your script up to the point of the error (and after
removing everything that is not relevant to your
issue). Alternativamente, en particular si su pregunta no está relacionada
con un marco de datos, puede guardar cualquier objeto R en un archivo[^export]:

```{r, eval=FALSE, purl=FALSE}
saveRDS(iris, file="/tmp/iris.rds")
```

Sin embargo, el contenido de este archivo no es legible por humanos y no se puede
publicar directamente en Stack Overflow. En su lugar, se puede enviar a alguien
por correo electrónico que pueda leerlo con el comando `readRDS()` (aquí
se supone que el archivo descargado está en una carpeta `Descargas` en el
directorio de inicio del usuario):

```{r, eval=FALSE, purl=FALSE}
some_data <- readRDS(file="~/Downloads/iris.rds")
```

Por último, pero no menos importante, **siempre incluya la salida de `sessionInfo()`**
ya que proporciona información crítica sobre su plataforma, las versiones de R y
los paquetes que está usando y otra información que puede ser muy útil
para comprender su problema.

```{r, results="show", purl=TRUE}
sessionInfo()
```

### ¿Dónde pedir ayuda?

- La persona sentada a tu lado durante el curso. No dudes en
  hablar con tu vecino durante el taller, comparar tus respuestas,
  y pedir ayuda.
- Tus colegas amigables: si conoces a alguien con más experiencia
  que tú, es posible que pueda y esté dispuesto a ayudarte.
- [Desbordamiento de pila](https://stackoverflow.com/questions/tagged/r): si
  tu pregunta no ha sido respondida antes y está bien redactada,
  es probable que obtengas una respuesta en menos de 5 min. Recuerde
  seguir sus pautas sobre cómo hacer una buena
  pregunta.
- La lista de correo de R-help
  : es leída por
  mucha gente (incluida la mayoría de el equipo central de R), mucha gente
  publica en él, pero el tono puede ser bastante seco y no siempre
  es muy acogedor para los nuevos usuarios. Si su pregunta es válida, es
  probable que obtenga una respuesta muy rápido, pero no espere que llegue
  con caras sonrientes. Además, aquí más que en cualquier otro lugar, asegúrese de
  usar el vocabulario correcto (de lo contrario, podría obtener una respuesta que señale
  el mal uso de sus palabras en lugar de responder su pregunta
  ). También tendrá más éxito si su pregunta es sobre
  una función base en lugar de un paquete específico.
- Si su pregunta es sobre un paquete específico, vea si hay una lista de correo
  para él. Por lo general, se incluye en el archivo DESCRIPCIÓN
  del paquete al que se puede acceder usando
  `packageDescription("nombre-del-paquete")`. También puedes intentar enviar
  un correo electrónico directamente al autor del paquete o abrir una incidencia en el repositorio de código
  (por ejemplo, GitHub).
- También hay algunas listas de correo de temas específicos (SIG,
  filogenética, etc...), la lista completa es
  [aquí](https://www.r-project.org/ correo.html).

### Más recursos

- La [Guía de publicación](https://www.r-project.org/posting-guide.html) para
  las listas de correo de R.

- Cómo solicitar ayuda de R

  pautas útiles.

- Esta publicación de blog de Jon
  Skeet
  tiene consejos bastante completos sobre cómo para hacer preguntas sobre programación.

- El paquete [reprex](https://cran.rstudio.com/web/packages/reprex/)
  es muy útil para crear ejemplos reproducibles cuando se solicita ayuda
  . The rOpenSci community call "How to ask questions so they get
  answered" (Github
  link and video
  recording) includes a presentation of
  the reprex package and of its philosophy.

## paquetes R

### Cargando paquetes

Como hemos visto anteriormente, los paquetes de R juegan un papel fundamental en R. Los
hacen uso de la funcionalidad de un paquete, suponiendo que esté instalado,
primero debemos cargarlo para poder usarlo. . Esto se hace con la función
`library()`. A continuación, cargamos `ggplot2`.

```{r loadp, eval=FALSE, purl=TRUE}
library("ggplot2")
```

### Instalación de paquetes

El repositorio de paquetes predeterminado es The _Comprehensive R Archive
Network_ (CRAN), y cualquier paquete que esté disponible en CRAN se puede
instalar con la función `install.packages()`. Debajo, por ejemplo,
instalamos el paquete `dplyr` del que aprenderemos más adelante.

```{r craninstall, eval=FALSE, purl=TRUE}
install.packages("dplyr")
```

Este comando instalará el paquete `dplyr` así como todas sus
dependencias, es decir, todos los paquetes de los que depende para funcionar.

Bioconductor mantiene otro importante repositorio de paquetes R. Los [paquetes de bioconductores](https://bioconductor.org/packages/release/BiocViews.html#___Software) se administran e instalan mediante un paquete dedicado,
, concretamente `BiocManager`, que se puede instalar desde CRAN con

```{r, eval=FALSE, purl=TRUE}
install.packages("BiocManager")
```

Paquetes individuales como `SummarizedExperiment` (lo usaremos
más adelante), `DESeq2` (para análisis RNA-Seq) y cualquier otro de Bioconductor o CRAN se pueden instalar
con ` BiocManager::instalar`.

```{r, eval=FALSE, purl=TRUE}
BiocManager::install("SummarizedExperiment")
BiocManager::install("DESeq2")
```

De forma predeterminada, `BiocManager::install()` también verificará todos los paquetes instalados y verá si hay versiones más nuevas disponibles. Si los hay, se los mostrará y le preguntará si desea "Actualizar todo/algo/ninguno". [a/s/n]:\` y luego espera tu respuesta. Si bien debe esforzarse por tener las versiones de paquetes más actualizadas, en la práctica recomendamos actualizar los paquetes solo en una nueva sesión de R antes de cargar cualquier paquete.

:::::::::::::::::::::::::::::::::::::::: keypoints

- Comience a usar R y RStudio

::::::::::::::::::::::::::::::::::::::::::::::::::
